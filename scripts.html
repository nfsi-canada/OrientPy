

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scripts &mdash; Home 0.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=938c9ccc"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="Classes" href="api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Home
              <img src="_static/OrientPy_logo_small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quick Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="links.html">GitHub Repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html#references">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Disclaimer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="disclaimer.html#dlopy-licence">DLOPy Licence</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="orientpy.html">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="orientpy.html#installation">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html#modules">Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scripts &amp; Tutorials</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bng">BNG</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bng-calc-auto"><code class="docutils literal notranslate"><span class="pre">bng_calc_auto</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bng-average"><code class="docutils literal notranslate"><span class="pre">bng_average</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dl">DL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dl-calc"><code class="docutils literal notranslate"><span class="pre">dl_calc</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#dl-average"><code class="docutils literal notranslate"><span class="pre">dl_average</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Usage</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Home</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Scripts</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/scripts.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scripts">
<h1>Scripts<a class="headerlink" href="#scripts" title="Link to this heading"></a></h1>
<p>The program <code class="xref py py-mod docutils literal notranslate"><span class="pre">orientpy</span></code> is meant to be run using command-line scripts that
are described below. These can be used in bash scripts to automate data processing.
These scripts use classes defined in <code class="xref py py-mod docutils literal notranslate"><span class="pre">orientpy</span></code> to process single-station
and single-event seismograms, which are then aggregated to generate a single
estimate of station orientation per method. There are three methods with accompanying
scripts that can be used to determine station orientation, which are described below.
All of them use a station database provided as a <code class="xref py py-class docutils literal notranslate"><span class="pre">StDb</span></code> dictionary.</p>
<section id="bng">
<h2>BNG<a class="headerlink" href="#bng" title="Link to this heading"></a></h2>
<section id="bng-calc-auto">
<h3><code class="docutils literal notranslate"><span class="pre">bng_calc_auto</span></code><a class="headerlink" href="#bng-calc-auto" title="Link to this heading"></a></h3>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h4>
<p>Downloads three-component seismograms based on a catalogue of earthquakes
and performs automated estimation of P-wave polarization. Station selection is
specified by a network and station code. The database is provided as a
<code class="xref py py-class docutils literal notranslate"><span class="pre">StDb</span></code> dictionary. This method can be used with teleseismic P-wave
data or regional earthquake data, by specifying the appropriate options accordingly.
Each usable station-event seismograms are used to calculate an estimate of station
orientation. For each estimate, a number of quality-control parameters are calculated
to help in the aggregation to produce a final estimate of station orientation.</p>
<p>This automated method will use the same processing parameters for all waveforms
(e.g., time window around predicted P-wave arrival, bandpass frequencies, etc.).
Because the properties of individual seismograms can vary widely for different
earthquakes, a different script can be used in manual (interactive) mode to improve
the quality of the estimates (see below).</p>
</section>
<section id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ bng_calc_auto -h
usage: bng_calc_auto [arguments] &lt;Station Database&gt;

Program to compute the orientation of the components of a station based on
those in a station database.

positional arguments:
  indb                  Station Database to process from.

optional arguments:
  -h, --help            show this help message and exit
  -v VERB, --verbose VERB
                        Enable Level of verbose output during processing. (0)
                        No Output; (1) Output Event Analysis counter; (2)
                        Counter and results. Default 2
  -O, --overwrite       Overwrite existing data on disk. [Default False]
  --save-location SAVELOC
                        Specify Save destination. Default is BNG_RESULTS (and
                        sub-directories based on Station Name).
  --no-save-progress    Do not save progress during processing.

Local Data Settings:
  Settings associated with defining and using a local data base of pre-
  downloaded day-long SAC files.

  --local-data LOCALDATA
                        Specify a comma separated list of paths containing
                        day-long sac files of data already downloaded. If data
                        exists for a seismogram is already present on disk, it
                        is selected preferentially over downloading the data
                        using the Client interface
  --no-data-zero        Specify to force missing data to be set as zero,
                        rather than default behaviour. [Default sets to nan]
  --no-local-net        Specify to prevent using the Network code in the
                        search for local data (sometimes for CN stations the
                        dictionary name for a station may disagree with that
                        in the filename. [Default Network used]

Server Settings:
  Settings associated with which datacenter to log into.

  --server-cat SERVER_CAT
                        Catalogue server setting: Key string for recognized
                        server that provide `available_event_catalogs` service
                        (one of &#39;AUSPASS&#39;, &#39;BGR&#39;, &#39;EARTHSCOPE&#39;, &#39;EIDA&#39;,
                        &#39;EMSC&#39;, &#39;ETH&#39;, &#39;GEOFON&#39;, &#39;GEONET&#39;, &#39;GFZ&#39;, &#39;ICGC&#39;,
                        &#39;IESDMC&#39;, &#39;INGV&#39;, &#39;IPGP&#39;, &#39;IRIS&#39;, &#39;IRISPH5&#39;, &#39;ISC&#39;,
                        &#39;KNMI&#39;, &#39;KOERI&#39;, &#39;LMU&#39;, &#39;NCEDC&#39;, &#39;NIEP&#39;, &#39;NOA&#39;,
                        &#39;NRCAN&#39;, &#39;ODC&#39;, &#39;ORFEUS&#39;, &#39;RASPISHAKE&#39;, &#39;RESIF&#39;,
                        &#39;RESIFPH5&#39;, &#39;SCEDC&#39;, &#39;TEXNET&#39;, &#39;UIB-NORSAR&#39;, &#39;USGS&#39;,
                        &#39;USP&#39;). [Default &#39;IRIS&#39;]
  --server-wf SERVER_WF
                        Waveform server setting: Base URL of FDSN web service
                        compatible server (e.g. “http://service.iris.edu”) or
                        key string for recognized server (one of &#39;AUSPASS&#39;,
                        &#39;BGR&#39;, &#39;EARTHSCOPE&#39;, &#39;EIDA&#39;, &#39;EMSC&#39;, &#39;ETH&#39;, &#39;GEOFON&#39;,
                        &#39;GEONET&#39;, &#39;GFZ&#39;, &#39;ICGC&#39;, &#39;IESDMC&#39;, &#39;INGV&#39;, &#39;IPGP&#39;,
                        &#39;IRIS&#39;, &#39;IRISPH5&#39;, &#39;ISC&#39;, &#39;KNMI&#39;, &#39;KOERI&#39;, &#39;LMU&#39;,
                        &#39;NCEDC&#39;, &#39;NIEP&#39;, &#39;NOA&#39;, &#39;NRCAN&#39;, &#39;ODC&#39;, &#39;ORFEUS&#39;,
                        &#39;RASPISHAKE&#39;, &#39;RESIF&#39;, &#39;RESIFPH5&#39;, &#39;SCEDC&#39;, &#39;TEXNET&#39;,
                        &#39;UIB-NORSAR&#39;, &#39;USGS&#39;, &#39;USP&#39;). [Default &#39;IRIS&#39;]
  --user-auth USERAUTH  Authentification Username and Password for the
                        waveform server (--user-auth=&#39;username:authpassword&#39;)
                        to access and download restricted data. [Default no
                        user and password]

  --eida-token TOKENFILE
                        Token for EIDA authentication mechanism, see
                        http://geofon.gfz-
                        potsdam.de/waveform/archive/auth/index.php. If a token
                        is provided, argument --user-auth will be ignored.
                        This mechanism is only available on select EIDA nodes.
                        The token can be provided in form of the PGP message
                        as a string, or the filename of a local file with the
                        PGP message in it. [Default None]

Station Selection Parameters:
  Parameters to select a specific station.

  --keys STKEYS         Specify list of Station Keys in the database to
                        process.
  --zcomp ZCOMP         Specify the Vertical Component Channel Identifier.
                        [Default Z].
  -c NAMECONV, --coord-system NAMECONV
                        Coordinate system specification of instrument. (0)
                        Attempt Autodetect between 1 and 2; (1) HZ, HN, HE;
                        (2) Left Handed: HZ, H2 90 CW H1; (3) Right Handed:
                        HZ, H2 90 CCW H1. [Default 2]

Timing Parameters:
  Parameters associated with event timing and window length.

  --start STARTT        Enter Start date for event catalogue search. Note,
                        more recent of this value or station start date will
                        be used.
  --end ENDT            Enter End date for event catalogue search. Note, less
                        recent of this or the station end date will be used.
  --window WLEN         Enter length of time window following P arrival time
                        in seconds. [Default 15.]
  --times TT            Enter window start and end times relative to predicted
                        P arrival time in seconds. Negative values imply start
                        of window before P wave arrival. [Default -2., 5.]

Earthquake Selection Criteria:
  Parameters associated with selecing the subset of earthquakes to use in
  calculations.

  --min-mag MINMAG      Specify the minimum magnitude of Earthquakes to use in
                        the catalogue search. [Default 5.5]
  --max-mag MAXMAG      Specify the maximum magnitude of Earthquakes to use in
                        the catalogue search. [Default 9.]
  --min-dist MINDIST    Specify the minimum earthquake distance (in degrees).
                        [Default 5.]
  --max-dist MAXDIST    Specify the maximum earthquake distance (in degrees).
                        [Default 175.]
  --max-dep MAXDEP      Specify maximum Earthquake Depth (km). [Default no
                        limit]

Processing Parameters:
  Parameters associated with BNG processing.

  --new-sampling-rate NEW_SR
                        Specify new sampling rate in Hz. [Default no
                        resampling]
  --dphi DPHI           Specify angle interval for search, in degrees.
                        [Default 0.1]
  --bp BP               Specify corner frequencies in Hz as a list of two
                        floats. [Default 0.7,5.0]
  --plot                Show processing step including raw and rotated
                        waveforms. [Default doesn&#39;t show plot]
</pre></div>
</div>
</section>
</section>
<section id="bng-average">
<h3><code class="docutils literal notranslate"><span class="pre">bng_average</span></code><a class="headerlink" href="#bng-average" title="Link to this heading"></a></h3>
<section id="id1">
<h4>Description<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p>Collects the estimated azimuths previously calculated and calculates the
mean value after some quality control thresholding based on the rotated
waveforms. The error is obtained from a bootstrap analysis of robust estimates.</p>
</section>
<section id="id2">
<h4>Usage<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ bng_average -h
usage: bng_average [arguments] &lt;Station Database&gt;

Program to average the orientations of the seismometer in a station database.

positional arguments:
  indb                  Station Database to process from.

optional arguments:
  -h, --help            show this help message and exit
  -v VERB, --verbose VERB
                        Enable Level of verbose output during processing. (0)
                        No Output; (1) Output Event Analysis counter; (2)
                        Counter and results. Default 2
  --load-location LOADLOC
                        Specify Load destination. Default is BNG_RESULTS (and
                        sub-directories based on Station Name).
  --plot                Plot results at end (Default False)
  --save                Set this option if you wish to save the figure.
                        [Default does not save figure]
  --format FMT          Specify format of figure. Can be any one of the
                        validmatplotlib formats: &#39;png&#39;, &#39;jpg&#39;, &#39;eps&#39;, &#39;pdf&#39;.
                        [Default &#39;png&#39;]

Station Selection Parameters:
  Parameters to select a specific station.

  --keys STKEYS         Specify list of Station Keys in the database to
                        process.

Quality control parameters:
  Quality control parameters on the estimates for calculating the average.

  --cc CC               Threshold for cross-correlation betwen vertical and
                        radial components. [Default 0.5]
  --snr SNR             Threshold for signal-to-noise ratio on vertical
                        component, in dB. [Default 5.]
  --TR TR               Threshold for transverse to radial ratio (1 - T/R).
                        [Default 0.5]
  --RZ RZ               Threshold for radial to vertical ratio (1 - R/Z).
                        [Default -1.]
</pre></div>
</div>
</section>
</section>
</section>
<section id="dl">
<h2>DL<a class="headerlink" href="#dl" title="Link to this heading"></a></h2>
<section id="dl-calc">
<h3><code class="docutils literal notranslate"><span class="pre">dl_calc</span></code><a class="headerlink" href="#dl-calc" title="Link to this heading"></a></h3>
<section id="id3">
<h4>Description<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>Downloads three-component seismograms based on a catalogue of earthquakes
and performs automated estimation of Rayleigh-wave polarization at a number of
periods and for the direct and complementary globe-encircling path. Station
selection is specified by a network and station code. The database is provided as
a <code class="xref py py-class docutils literal notranslate"><span class="pre">StDb</span></code> dictionary. Each usable station-event seismograms are used
to calculate an estimate of station orientation. For each estimate, the
cross-correlation between the radial and Hilbert-transformed vertical components
is calculated and is used later in selecting which estimates are used in the final
estimate of station orientation.</p>
</section>
<section id="id4">
<h4>Usage<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ dl_calc -h
usage: dl_calc [arguments] &lt;Station Database&gt;

Program to compute the orientation of the components of a station based on
those in a station database.

positional arguments:
  indb                  Station Database to process from.

optional arguments:
  -h, --help            show this help message and exit
  -v VERB, --verbose VERB
                        Enable Level of verbose output during processing. (0)
                        No Output; (1) Output Event Analysis counter; (2)
                        Counter and results. Default 2
  -O, --overwrite       Overwrite existing data on disk. [Default False]
  --save-location SAVELOC
                        Specify Save destination. [Default is DL_RESULTS (and
                        sub-directories based on Station Name)]
  --no-save-progress    Do not save progress during processing.

Local Data Settings:
  Settings associated with defining and using a local data base of pre-
  downloaded day-long SAC files.

  --local-data LOCALDATA
                        Specify a comma separated list of paths containing
                        day-long sac files of data already downloaded. If data
                        exists for a seismogram is already present on disk, it
                        is selected preferentially over downloading the data
                        using the Client interface
  --no-data-zero        Specify to force missing data to be set as zero,
                        rather than default behaviour. [Default sets to nan]
  --no-local-net        Specify to prevent using the Network code in the
                        search for local data (sometimes for CN stations the
                        dictionary name for a station may disagree with that
                        in the filename. [Default Network used]

Server Settings:
  Settings associated with which datacenter to log into.

  --server-cat SERVER_CAT
                        Catalogue server setting: Key string for recognized
                        server that provide `available_event_catalogs` service
                        (one of &#39;AUSPASS&#39;, &#39;BGR&#39;, &#39;EARTHSCOPE&#39;, &#39;EIDA&#39;,
                        &#39;EMSC&#39;, &#39;ETH&#39;, &#39;GEOFON&#39;, &#39;GEONET&#39;, &#39;GFZ&#39;, &#39;ICGC&#39;,
                        &#39;IESDMC&#39;, &#39;INGV&#39;, &#39;IPGP&#39;, &#39;IRIS&#39;, &#39;IRISPH5&#39;, &#39;ISC&#39;,
                        &#39;KNMI&#39;, &#39;KOERI&#39;, &#39;LMU&#39;, &#39;NCEDC&#39;, &#39;NIEP&#39;, &#39;NOA&#39;,
                        &#39;NRCAN&#39;, &#39;ODC&#39;, &#39;ORFEUS&#39;, &#39;RASPISHAKE&#39;, &#39;RESIF&#39;,
                        &#39;RESIFPH5&#39;, &#39;SCEDC&#39;, &#39;TEXNET&#39;, &#39;UIB-NORSAR&#39;, &#39;USGS&#39;,
                        &#39;USP&#39;). [Default &#39;IRIS&#39;]
  --server-wf SERVER_WF
                        Waveform server setting: Base URL of FDSN web service
                        compatible server (e.g. “http://service.iris.edu”) or
                        key string for recognized server (one of &#39;AUSPASS&#39;,
                        &#39;BGR&#39;, &#39;EARTHSCOPE&#39;, &#39;EIDA&#39;, &#39;EMSC&#39;, &#39;ETH&#39;, &#39;GEOFON&#39;,
                        &#39;GEONET&#39;, &#39;GFZ&#39;, &#39;ICGC&#39;, &#39;IESDMC&#39;, &#39;INGV&#39;, &#39;IPGP&#39;,
                        &#39;IRIS&#39;, &#39;IRISPH5&#39;, &#39;ISC&#39;, &#39;KNMI&#39;, &#39;KOERI&#39;, &#39;LMU&#39;,
                        &#39;NCEDC&#39;, &#39;NIEP&#39;, &#39;NOA&#39;, &#39;NRCAN&#39;, &#39;ODC&#39;, &#39;ORFEUS&#39;,
                        &#39;RASPISHAKE&#39;, &#39;RESIF&#39;, &#39;RESIFPH5&#39;, &#39;SCEDC&#39;, &#39;TEXNET&#39;,
                        &#39;UIB-NORSAR&#39;, &#39;USGS&#39;, &#39;USP&#39;). [Default &#39;IRIS&#39;]
  --user-auth USERAUTH  Authentification Username and Password for the
                        waveform server (--user-auth=&#39;username:authpassword&#39;)
                        to access and download restricted data. [Default no
                        user and password]
  --eida-token TOKENFILE
                        Token for EIDA authentication mechanism, see
                        http://geofon.gfz-
                        potsdam.de/waveform/archive/auth/index.php. If a token
                        is provided, argument --user-auth will be ignored.
                        This mechanism is only available on select EIDA nodes.
                        The token can be provided in form of the PGP message
                        as a string, or the filename of a local file with the
                        PGP message in it. [Default None]

Station Selection Parameters:
  Parameters to select a specific station.

  --keys STKEYS         Specify list of Station Keys in the database to
                        process.
  --zcomp ZCOMP         Specify the Vertical Component Channel Identifier.
                        [Default Z].
  -c NAMECONV, --coord-system NAMECONV
                        Coordinate system specification of instrument. (0)
                        Attempt Autodetect between 1 and 2; (1) HZ, HN, HE;
                        (2) Left Handed: HZ, H2 90 CW H1; (3) Right Handed:
                        HZ, H2 90 CCW H1 (4) Left Handed Numeric: H3, H2 90 CW
                        H1 [Default 2]

Timing Parameters:
  Parameters associated with event timing and window length.

  --start STARTT        Enter Start date for event catalogue search. Note,
                        more recent of this value or station start date will
                        be used.
  --end ENDT            Enter End date for event catalogue search. Note, less
                        recent of this or the station end date will be used.
  --window TWIN         Enter time window length in days. A non-zero value
                        will cause the results to repeat for each set of twin
                        days in the operating window, calculating the change
                        in orientation over time. [Default 0]

Earthquake Selection Criteria:
  Parameters associated with selecing the subset of earthquakes to use in
  calculations.

  --min-mag MINMAG      Specify the minimum magnitude of Earthquakes to use in
                        the catalogue search. [Default 5.5]
  --min-dist MINDIST    Specify the minimum earthquake distance (in degrees).
                        [Default 5.]
  --max-dist MAXDIST    Specify the maximum earthquake distance (in degrees).
                        [Default 175.]
  --max-dep MAXDEP      Specify maximum Earthquake Depth (km). [Default 150.]
</pre></div>
</div>
</section>
</section>
<section id="dl-average">
<h3><code class="docutils literal notranslate"><span class="pre">dl_average</span></code><a class="headerlink" href="#dl-average" title="Link to this heading"></a></h3>
<section id="id5">
<h4>Description<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<p>Collects the estimated azimuths previously calculated and calculates the
mean value after some quality control thresholding based on the rotated
waveforms. The error is obtained from a bootstrap analysis of robust estimates.</p>
</section>
<section id="id6">
<h4>Usage<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ dl_average -h
usage: dl_average [arguments] &lt;Station Database&gt;

Program to average the orientations of the seismometer in a station database.

positional arguments:
  indb                  Station Database to process from.

optional arguments:
  -h, --help            show this help message and exit
  -v VERB, --verbose VERB
                        Enable Level of verbose output during processing. (0)
                        No Output; (1) Output Event Analysis counter; (2)
                        Counter and results. Default 2
  --load-location LOADLOC
                        Specify Load destination. [Default is DL_RESULTS (and
                        sub-directories based on Station Name)]
  --plot                Plot results at end [Default False]
  --save                Set this option if you wish to save the figure.
                        [Default does not save figure]
  --format FMT          Specify format of figure. Can be any one of the
                        validmatplotlib formats: &#39;png&#39;, &#39;jpg&#39;, &#39;eps&#39;, &#39;pdf&#39;.
                        [Default &#39;png&#39;]
  --cc CC               Cross-correlation threshold for final estimate.
                        [Default 0.8]

Station Selection Parameters:
  Parameters to select a specific station.

  --keys STKEYS         Specify list of Station Keys in the database to
                        process.
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api.html" class="btn btn-neutral float-left" title="Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Pascal Audet.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>